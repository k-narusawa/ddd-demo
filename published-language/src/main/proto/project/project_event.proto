syntax = "proto3";

package dev.knarusawa.dddDemo.app.project;

import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_package = "dev.knarusawa.dddDemo.publishedLanguage.project.proto";
option java_outer_classname = "ProjectEventMessageProto";

message PLProjectEvent {
  string event_id = 1;
  string project_id = 2;
  PLProjectEventType type = 3;
  optional string project_name = 4;
  optional PLProjectMember create_member = 5;
  repeated PLProjectMember added_members = 6;
  google.protobuf.Timestamp occurred_at = 7;
}

message PLProjectMember {
  string member_id = 1;
  PLProjectMemberRole role = 2;
}

enum PLProjectMemberRole {
  MEMBER_ROLE_UNSPECIFIED = 0;
  ADMIN = 1;
  WRITE = 2;
  READ = 3;
}

enum PLProjectEventType {
  PROJECT_EVENT_TYPE_UNSPECIFIED = 0;
  PROJECT_CREATED = 1;
  PROJECT_NAME_CHANGED = 2;
  PROJECT_MEMBER_ADDED = 3;
}
